<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>SECURE ACCESS</title>

<style>
body{
  margin:0;
  background:black;
  color:#00ff00;
  font-family:monospace;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  transition:background 0.1s;
}

.flash{
  background:white !important;
}

#loading{
  position:fixed;
  width:100%;
  height:100%;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:20px;
  animation:blink 1s infinite;
}

@keyframes blink{
  50%{opacity:0.3;}
}

#loginBox{
  text-align:center;
  display:none;
}

input{
  background:black;
  border:1px solid #00ff00;
  color:#00ff00;
  padding:12px;
  width:200px;
  text-align:center;
}

button{
  background:black;
  border:1px solid #00ff00;
  color:#00ff00;
  padding:12px 25px;
  margin-top:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="loading">INITIALIZING SYSTEM...</div>

<div id="loginBox">
  <h2>ENTER PASSWORD</h2>
  <input type="password" id="pass" placeholder="Password">
  <br>
  <button onclick="checkPass()">ACCESS</button>
  <p id="msg"></p>
</div>

<audio id="bgMusic" loop>
  <source src="https://files.catbox.moe/8zj8dz.mp3" type="audio/mpeg">
</audio>

<script>

// เอฟเฟกต์กระพริบจอ
function flashScreen(times){
  let count = 0;
  let interval = setInterval(function(){
    document.body.classList.toggle("flash");
    count++;
    if(count >= times*2){
      clearInterval(interval);
      document.body.classList.remove("flash");
    }
  },100);
}

// สั่น + กระพริบตอนเปิดเว็บ
window.onload = function(){
  if(navigator.vibrate){
    navigator.vibrate([200,100,200]);
  }
  flashScreen(3);
};

// โหลด 3 วิ
setTimeout(function(){
  document.getElementById("loading").style.display="none";
  document.getElementById("loginBox").style.display="block";
},3000);

var password = "1234";

function checkPass(){
  var input = document.getElementById("pass").value;
  if(input === password){
    document.getElementById("msg").innerHTML="ACCESS GRANTED";
    document.getElementById("bgMusic").play();

    if(navigator.vibrate){
      navigator.vibrate([300,100,300,100,500]);
    }
    flashScreen(6);
    lockBackButton();

  }else{
    document.getElementById("msg").innerHTML="ACCESS DENIED";

    if(navigator.vibrate){
      navigator.vibrate(200);
    }
    flashScreen(2);
  }
}

document.getElementById("pass").addEventListener("keyup", function(event){
  if(event.key === "Enter"){
    checkPass();
  }
});

function lockBackButton(){
  history.pushState(null, null, location.href);
  window.onpopstate = function(){
    history.pushState(null, null, location.href);
  };
}

</script>

</body>
</html>
